<!DOCTYPE html>
<html>
<head>
<title>Keer op Keer Board Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="home.style.css">
</head>
<body>
<header class = "bg-primary"><h1>KEER OP KEER Board Generator</h1></header>

<main>
    <button 
        id="get-board-button"
        class = "btn btn-primary"
        onclick=getBoard()>
            Generate board 
            <span 
                class="loader spinner-border spinner-border-sm" 
                role="status" aria-hidden="true"
                hidden></span>
    </button>
    <div class="square"></div>
    <div class="board"></div>
</main>



<script>
    async function getBoard() {
        showLoader();
        document.getElementById("get-board-button").classList.add("disabled")
        const response = await fetch('http://localhost:105/get-board');
        const boardJson = await response.json();
        console.log(boardJson);
        document.getElementById("get-board-button").classList.remove("disabled")
        hideLoader();
    }

    function showLoader() {
        var loader = document.querySelector('.loader');
        loader.removeAttribute("hidden"); 
    }

    function hideLoader() {
        var loader = document.querySelector('.loader');
        loader.setAttribute("hidden", "true");
    }

    function displayBoard(board, stars) {
        board.forEach(rowArray => {
            const row = document.createElement("div");
            row.classList.add("board-row");
            
            forEach(r)


        });
    }

    let tableFromJson = () => {
    // the json data.
    const myBooks = [
      {'Book ID': '1', 'Book Name': 'Challenging Times',
       'Category': 'Business', 'Price': '125.60'
      },
      {'Book ID': '2', 'Book Name': 'Learn JavaScript',
       'Category': 'Programming', 'Price': '56.00'
      },
      {'Book ID': '3', 'Book Name': 'Popular Science',
       'Category': 'Science', 'Price': '210.40'
      }
    ]

    // Extract value from table header. 
    // ('Book ID', 'Book Name', 'Category' and 'Price')
    let col = [];
    for (let i = 0; i < myBooks.length; i++) {
      for (let key in myBooks[i]) {
        if (col.indexOf(key) === -1) {
          col.push(key);
        }
      }
    }

    // Create table.
    const table = document.createElement("table");

    // Create table header row using the extracted headers above.
    let tr = table.insertRow(-1);                   // table row.

    for (let i = 0; i < col.length; i++) {
      let th = document.createElement("th");      // table header.
      th.innerHTML = col[i];
      tr.appendChild(th);
    }

    // add json data to the table as rows.
    for (let i = 0; i < myBooks.length; i++) {

      tr = table.insertRow(-1);

      for (let j = 0; j < col.length; j++) {
        let tabCell = tr.insertCell(-1);
        tabCell.innerHTML = myBooks[i][col[j]];
      }
    }

    // Now, add the newly created table with json data, to a container.
    const divShowData = document.getElementById('showData');
    divShowData.innerHTML = "";
    divShowData.appendChild(table);
  }

    function makeSquare(colour, hasStar) {
        const square = document.createElement("div");
        square.classList.add("square")
        square.classList.add("colour" + colour)
        if (hasStar) square.classList.add("star")

        return square

        const para = document.createElement("p");
        const node = document.createTextNode("This is new.");
        para.appendChild(node);

        const element = document.getElementById("div1");
        element.appendChild(para);
    }
</script> 


    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

</body>
</html> 